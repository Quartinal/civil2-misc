import{a as r}from"./chunk-KPQZPXXC.js";import{a as c}from"./chunk-6EXPBFGG.js";var a="session-string";async function e(n){let t=await fetch(n);if(!t.ok)throw new Error(`http ${t.status} from ${n}`);return t.text()}async function g(n,t){return await e(`${n}/sessionexists?id=${encodeURIComponent(t)}`)==="exists"}async function w(n){return e(`${n}/newsession`)}async function S(n,t){let s=await e(`${n}/api/shuffleDict?id=${encodeURIComponent(t)}`);return JSON.parse(s)}async function d(n){let t=localStorage.getItem(a);if(t&&await g(n,t))return t;let s=await w(n);return localStorage.setItem(a,s),s}async function x(n,t,s){let i=await d(t),f=await S(t,i),o=r.fromDictionary(f),u=c(n,i,o,s);return o.free(),u}export{x as encode};
//# sourceMappingURL=session.js.map
